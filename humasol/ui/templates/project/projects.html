{% extends 'base.html' %}

{% block title %}
  Projects
{% endblock %}

{% block content%}

    <div class="page-header">
        <h1 class="page-title">Projects</h1>
    </div>
    <section id="projects-content">
        <!-- Project list will be added here dynamically -->
    </section>

{% endblock %}

{% block scripts %}
<script>
    function defer(fn) {
        if (window.jQuery) {
            fn();
        } else {
            setTimeout(() => defer(fn) , 50);
        }
    }

    defer(() => {
        $.get("{{ url_for('gui.get_projects') }}", function (data) {
            $("#projects-content").html(data);
        })
    })
</script>
{% endblock %}
